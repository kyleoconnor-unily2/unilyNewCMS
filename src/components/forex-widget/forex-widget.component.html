<a href="https://github.com/kyleoconnor-unily2/unilyNewCMS" target="_blank" class="github-link"
    title="View source code on GitHub">
    <img src="assets/icons/github.svg" alt="GitHub" width="20" height="20">
    View Code Source
</a>

<section class="currency-exchange-widget">

    <h2>Live Currency Exchange Rates
        <span>Widget loaded: {{ forexUpdateTime | date:'HH:mm:ss' }}</span>
    </h2>

    <div class="display-controls">
        <label for="displayLimit">Show:</label>
        <select id="displayLimit" [(ngModel)]="displayLimit" (change)="onDisplayLimitChange($event)">
            <option [value]="5">5 pairs</option>
            <option [value]="10">10 pairs</option>
            <option [value]="14">All (14)</option>
        </select>
    </div>

    <div>
        <div *ngFor="let rate of visibleRates">
            <span>
                <span [innerHTML]="getFirstFlag(rate.pair)"></span>
                {{ rate.pair }}
                <span [innerHTML]="getSecondFlag(rate.pair)"></span>
            </span> <button class="toggle-btn" (click)="togglePair(rate)" title="Switch currencies">
                <img src="assets/icons/swap-arrows.svg" alt="Swap" width="24" height="24">
            </button>
            <span>{{ rate.rate }}</span>
            <span [style.color]="rate.change > 0 ? 'green' : rate.change < 0 ? 'red' : 'inherit'">
                {{ rate.change > 0 ? '+' : '' }}{{ rate.change }}
                ({{ rate.changePercent > 0 ? '+' : '' }}{{ rate.changePercent }}%)
            </span>
        </div>
    </div>

    <div class="alert-info">
        <img src="assets/icons/info-circle.svg" alt="Info">
        Rates are updated every 15 minutes from live market data
    </div>
</section>